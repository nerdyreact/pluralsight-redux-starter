{"version":3,"sources":["ManageCoursePage.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;IAAY,a;;AACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGI,8BAAY,KAAZ,EAAmB,OAAnB,EAA4B;AAAA;;AAAA,wGAClB,KADkB;;AAExB,cAAK,KAAL,GAAa;AACT,oBAAQ,OAAO,MAAP,CAAc,EAAd,EAAkB,MAAM,MAAxB,CADC;AAET,oBAAQ;AAFC,SAAb;;AAKA,cAAK,iBAAL,GAAyB,MAAK,iBAAL,CAAuB,IAAvB,OAAzB;AACA,cAAK,UAAL,GAAkB,MAAK,UAAL,CAAgB,IAAhB,OAAlB;AARwB;AAS3B;;;;0CAEiB,K,EAAO;AACrB,gBAAM,QAAQ,MAAM,MAAN,CAAa,IAA3B;AACA,gBAAI,SAAS,KAAK,KAAL,CAAW,MAAxB;AACA,mBAAO,KAAP,IAAgB,MAAM,MAAN,CAAa,KAA7B;AACA,mBAAO,KAAK,QAAL,CAAc,EAAE,cAAF,EAAd,CAAP;AACH;;;mCAEU,K,EAAO;AACd,kBAAM,cAAN;AACA,oBAAQ,GAAR,CAAY,cAAZ,EAA2B,KAAK,KAAL,CAAW,MAAtC;AACA,iBAAK,KAAL,CAAW,OAAX,CAAmB,UAAnB,CAA8B,KAAK,KAAL,CAAW,MAAzC;AACA,oBAAQ,GAAR,CAAY,cAAZ;AACH;;;iCAEQ;AACL,mBACI;AACI,4BAAY,KAAK,KAAL,CAAW,OAD3B;AAEI,0BAAU,KAAK,iBAFnB;AAGI,wBAAQ,KAAK,UAHjB;AAII,wBAAQ,KAAK,KAAL,CAAW,MAJvB;AAKI,wBAAQ,KAAK,KAAL,CAAW;AALvB,cADJ;AASH;;;;EApC0B,gBAAM,S;;AAuCrC,iBAAiB,SAAjB,GAA6B;AACzB,YAAQ,kBAAU,MAAV,CAAiB,UADA;AAEzB,aAAS,kBAAU,KAAV,CAAgB,UAFA;AAGzB,aAAS,kBAAU,MAAV,CAAiB;;AAHD,CAA7B;;AAOA,SAAS,eAAT,CAAyB,KAAzB,EAAgC,QAAhC,EAA0C;AACtC,QAAI,SAAS,EAAC,IAAI,EAAL,EAAS,OAAO,EAAhB,EAAoB,UAAU,EAA9B,EAAkC,QAAQ,EAA1C,EAA8C,UAAU,EAAxD,EAAb;;AAEA,QAAM,8BAA8B,MAAM,OAAN,CAAc,GAAd,CAAkB,kBAAU;AAC7D,eAAO;AACH,mBAAO,OAAO,EADX;AAEH,kBAAM,OAAO,SAAP,GAAmB,GAAnB,GAAyB,OAAO;AAFnC,SAAP;AAIF,KALmC,CAApC;AAMA,WAAO;AACH,sBADG;AAEH,iBAAS;AAFN,KAAP;AAIH;;AAED,SAAS,kBAAT,CAA4B,QAA5B,EAAsC;AAClC,WAAO;AACH,iBAAS,+BAAmB,aAAnB,EAAkC,QAAlC;AADN,KAAP;AAGH;;kBAEc,yBAAQ,eAAR,EAAyB,kBAAzB,EAA6C,gBAA7C,C","file":"ManageCoursePage-compiled.js","sourcesContent":["import React, {PropTypes} from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport * as courseActions from '../../actions/courseActions';\nimport CourseForm from './CourseForm';\n\nclass ManageCoursePage extends React.Component {\n    constructor(props, context) {\n        super(props);\n        this.state = {\n            course: Object.assign({}, props.course),\n            errors: {}\n        };\n        // update contexts of event handlers\n        this.updateCourseState = this.updateCourseState.bind(this);\n        this.saveCourse = this.saveCourse.bind(this);\n    }\n\n    updateCourseState(event) {\n        const field = event.target.name;\n        let course = this.state.course;\n        course[field] = event.target.value;\n        return this.setState({ course });\n    }\n\n    saveCourse(event) {\n        event.preventDefault();\n        console.log(\"The course: \",this.state.course);\n        this.props.actions.saveCourse(this.state.course);\n        console.log(\"Course saved\");\n    }\n\n    render() {\n        return (\n            <CourseForm\n                allAuthors={this.props.authors}\n                onChange={this.updateCourseState}\n                onSave={this.saveCourse}\n                course={this.state.course}\n                errors={this.state.errors}\n                />\n        );\n    }\n}\n\nManageCoursePage.propTypes = {\n    course: PropTypes.object.isRequired,\n    authors: PropTypes.array.isRequired,\n    actions: PropTypes.object.isRequired\n\n};\n\nfunction mapStateToProps(state, ownProps) {\n    let course = {id: '', title: '', authorId: '', length: '', category: ''};\n\n    const authorsFormattedForDropdown = state.authors.map(author => {\n       return {\n           value: author.id,\n           text: author.firstName + ' ' + author.lastName\n       } ;\n    });\n    return {\n        course,\n        authors: authorsFormattedForDropdown\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators(courseActions, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageCoursePage);"]}